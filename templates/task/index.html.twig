{% extends 'base.html.twig' %}

{% block body %}
    <div class="container">
        <h1 class="mb-4">Kanban Board</h1>
        <div>
            <span>({{ user.email }} - <a href="{{ path('app_logout') }}">Logout</a> )</span>
        </div>

        {# Modal #}
        <div data-controller="modal">
            <!-- Button trigger modal -->
            <div class="row">
                <div class="col-4">
                    <form method="post" action="{{ path('task_create') }}">
                        <button class="btn btn-sm btn-primary"
                                data-bs-toggle="modal" data-bs-target="#exampleModal">
                            Add new task</button>
                    </form>
                </div>
                <div class="col-8">
                    <form method="post" action="{{ path('task_search') }}">
                        <div class="input-group mb-3">
                            <input type="text" name="keyword"
                                   class="form-control" placeholder="Keyword"
                                   aria-label="Keyword" aria-describedby="button-addon2">
                            <button class="btn btn-outline-secondary" type="submit" id="button-addon2">Search</button>
                        </div>
                    </form>
                </div>
            </div>

            <!-- Modal -->
            <div class="modal fade" id="exampleModal" tabindex="-1" data-modal-target="modal">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <turbo-frame id="task_info">
                            {# form here #}
                        </turbo-frame>
                    </div>
                </div>
            </div>
        </div>

        <turbo-frame id="tasks">
            {% include 'task/_tasks.html.twig' %}
        </turbo-frame>
    </div>
{% endblock %}
